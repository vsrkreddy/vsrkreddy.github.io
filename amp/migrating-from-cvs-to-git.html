<!doctype html>
<html amp lang="en">
  <head>
    <meta charset="utf-8">
    <title>Migrating from CVS to Git.</title>
    <link rel="canonical" href="https://sanjaypatel2525.github.io/migrating-from-cvs-to-git/" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <style amp-custom>
        .header-post {
        background-color: rgb(0, 95, 151);
        min-height: 23.25rem;
        width: 100%;
        }
        .header-post .content {
        width: 95%;
        text-align: center;
        padding-top: 8.75rem;
        padding-right: 0px;
        padding-bottom: 4.125rem;
        padding-left: 0px;
        margin-top: auto;
        margin-right: auto;
        margin-bottom: auto;
        margin-left: auto;
        max-width: 50rem;
        }
        .header-post .date {
        font-family: "Open Sans", sans-serif;
        font-weight: 300;
        font-style: normal;
        font-size: 1rem;
        }
        .header-post h1, .header-post .subtitle, .header-post .date {
        color: rgb(255, 255, 255);
        text-align: center;
        }
        h1 {
        font-size: 2em;
        margin-top: 0.67em;
        margin-right: 0px;
        margin-bottom: 0.67em;
        margin-left: 0px;
        }
        h1, h2, h3, h4 {
        font-family: "Open Sans", sans-serif;
        font-weight: 800;
        font-style: normal;
        }
        .header-post h1 {
        font-size: 1.875rem;
        margin-top: 0px;
        margin-right: 0px;
        margin-bottom: 30px;
        margin-left: 0px;
        text-shadow: rgb(0, 76, 121) 3px 3px;
        }
        .header-post .subtitle {
        font-family: "Open Sans", sans-serif;
        font-weight: 300;
        font-style: normal;
        font-size: 1.25rem;
        }
        .header-post a, .header-post p {
        color: rgb(255, 255, 255);
        text-decoration-line: none;
        text-decoration-style: initial;
        text-decoration-color: initial;
        font-family: "Open Sans", sans-serif;
        font-weight: 300;
        font-style: normal;
        font-size: 1.125rem;
        }

        article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary {
        display: block;
        }
        figure {
        margin-top: 1em;
        margin-right: 40px;
        margin-bottom: 1em;
        margin-left: 40px;
        }
        .highlight {
        margin-top: 1.25rem;
        margin-right: 0px;
        margin-bottom: 1.25rem;
        margin-left: 0px;
        }
        pre {
        overflow-x: auto;
        overflow-y: auto;
        background-image: initial;
        background-position-x: initial;
        background-position-y: initial;
        background-size: initial;
        background-repeat-x: initial;
        background-repeat-y: initial;
        background-attachment: initial;
        background-origin: initial;
        background-clip: initial;
        background-color: rgb(34, 34, 34);
        width: 100%;
        padding-top: 1.25rem;
        padding-right: 0px;
        padding-bottom: 1.25rem;
        padding-left: 0px;
        color: rgb(255, 255, 255);
        margin-top: 1.875rem;
        margin-right: 0px;
        margin-bottom: 1.875rem;
        margin-left: 0px;
        font-size: 0.875rem;
        }
        code, kbd, pre, samp {
        font-family: monospace, monospace;
        font-size: 1em;
        }
        pre code {
        width: auto;
        max-width: 50rem;
        float: none;
        display: block;
        margin-right: auto;
        margin-left: auto;
        padding-top: 0px;
        padding-right: 1.25rem;
        padding-bottom: 0px;
        padding-left: 1.25rem;
        }
        pre code::after {
        clear: both;
        }
        pre span {
        line-height: 1.5rem;
        font-family: Monaco, Consolas, Menlo, monospace;
        }
        .highlight .c, .highlight .cm, .highlight .cp, .highlight .c1, .highlight .cs {
        color: rgb(117, 113, 94);
        }
        .highlight .m, .highlight .n, .highlight .nb, .highlight .ni, .highlight .nl, .highlight .nn, .highlight .py, .highlight .nv, .highlight .w, .highlight .bp, .highlight .vc, .highlight .vg, .highlight .vi {
        color: rgb(164, 208, 67);
        }
        .highlight .o, .highlight .p {
        color: rgb(247, 247, 242);
        }
        .highlight .ld, .highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .si, .highlight .sx, .highlight .sr, .highlight .s1, .highlight .ss {
        color: rgb(230, 219, 116);
        }
    </style>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
  </head>
  <body>
<header class="header-post" role="banner">
        <div class="content" style="transform: translateY(0px); opacity: 1;">
            
                <time itemprop="datePublished" datetime="2018-12-11 18:57:06 -0500" class="date">2018-12-11 18:57:06 -0500 - sanjaypatel2525</time>
            
            <h1 class="post-title" itemprop="name">Migrating from CVS to Git.</h1>
            <p itemprop="description" class="subtitle"></p>
        </div>
</header>
<p>In good old days, CVS used to be one of the most used SCM (source control management) tool. With the growing technology and the need of distributed systems, Git was born and with this CVS started rusting out. This is much of history for now.
There are cases when we have a requirement to move our codebase from CVS to Git without losing commit histories. If we dontIn this blog, we are going to discuss the same.</p>
<h3 id="basic-requirement">Basic requirement.</h3>

<ul>
  <li>Need Python installed.</li>
  <li>Access to CVS server for getting the full code base.</li>
  <li>CVSNT server setup. (This is not required if you are already on CVS server. CVS client doesn’t work)</li>
  <li>Need Git installed.</li>
</ul>

<h2 id="steps-to-convert-cvs-to-git">Steps to convert CVS to Git</h2>
<h3 id="install-python-27x">Install Python 2.7.x</h3>
<p>Download and install Python 2.7.x and set it to OS environment path.</p>
<h3 id="install-cvsntserver-not-required-when-you-are-already-on-cvs-server">Install CVSNT server.  (Not required when you are already on CVS Server)</h3>
<p>Download and install CVSNT server version. You will need it only once and then you can uninstall it.
<a href="https://www.march-hare.com/cvspro/">https://www.march-hare.com/cvspro/</a></p>

<h3 id="download-the-cvs2git-tool-and-extract-it-to-a-new-folder-temp">Download the cvs2git tool and extract it to a new folder ‘temp’.</h3>
<p>cvs2git comes prepackaged with cvs2svn tool. You can download it from the following location.<br>
<a href="http://cvs2svn.tigris.org/servlets/ProjectDocumentList?folderID=2976&amp;expandFolder=2976&amp;folderID=0">http://cvs2svn.tigris.org/servlets/ProjectDocumentList?folderID=2976&amp;expandFolder=2976&amp;folderID=0</a></p>

<h3 id="go-to-cvs-server-and-create-a-zip-of-the-full-code-base">Go to CVS  server and create a zip of the full code base.</h3>
<p>Find out the CVSRoot and zip the parent folder.</p>
<h3 id="extractthe-zipped-codebase-to-the-folder-temp">Extract the zipped codebase to the folder ‘temp’.</h3>
<h3 id="open-the-command-prompt-and-navigate-to-the-following-directory-replace-the-version-with-the-correct-version">Open the command prompt and navigate to the following directory, replace the version with the correct version.</h3>
<p>temp/cvs2svn-<strong>x.x.x
</strong></p>
<h3 id="run-the-following-command-from-the-command-prompt">Run the following command from the command prompt.</h3>
<p>python.exe cvs2git –blobfile=git-blob.dat –dumpfile=git-dump.dat –use-external-blob-generator –username=cvs2git C:/temp/<extracted cvsfolder=""><br>
Once this command has completed successfully it will create two files, git-blob.dat and git-dump.dat. This command will fail if you have CVS client version installed.</extracted></p>

<h3 id="initialize-an-empty-bare-repository-in-temp-folder">Initialize an empty bare repository in temp folder.</h3>
<p>git init –bare <yourprorjectname>.git</yourprorjectname></p>

<h3 id="navigate-togit">Navigate to <yourprorjectname>.git</yourprorjectname>
</h3>
<p>cd <yourprorjectname>.git</yourprorjectname></p>

<h3 id="import-dat-files-in-repository">Import dat files in repository.</h3>
<p>git fast-import –export-marks=../../cvs2svn-2.5.0/git-marks.dat &lt;../../cvs2svn-2.5.0/git-blob.dat<br>
git fast-import –import-marks=../../cvs2svn-2.5.0/git-marks.dat &lt;../../cvs2svn-2.5.0/git-dump.dat<br>
By now your local Git project is ready.</p>

<h3 id="call-garbage-collector-optional">Call garbage collector. (Optional)</h3>
<p>git gc –prune=now</p>

<h3 id="you-can-verify-source-history-using-the-below-command">You can verify source history using the below command.</h3>
<p>gitk<br>
It opens up the git history browser.</p>
<h3 id="here-onwards-the-steps-are-for-pushing-the-codebase-to-a-common-remote-git-server">Here onwards, the steps are for pushing the codebase to a common remote Git server.</h3>

<h3 id="clone-your-bare-repository-in-temp">Clone your bare repository in ‘temp’.</h3>
<p>Navigate to temp and run this following command. The following command will create the folder named <yourprorjectname>.<br>
git clone <yourprorjectname>.git</yourprorjectname></yourprorjectname></p>

<h3 id="navigate-to--and-add-remote-location">Navigate to <yourprorjectname> and add remote location.</yourprorjectname>
</h3>
<p>Remote location will be you common git server location which will be shared by your team.<br>
git remote add origin remote repository URL</p>

<h3 id="push-your-local-git-to-the-remote">Push your local git to the remote.</h3>
<p>git push origin master</p>

<h3 id="now-you-can-delete-your-bare-repository-tempgit">Now you can delete your bare repository ‘temp/<yourprorjectname>.git'</yourprorjectname>
</h3>

<p>That’s all about CVS to git codebase migration. Next topic we are going to update the ant build script and configure it will git setup.</p>


<footer>
    <p>Made with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a></p>
</footer>
<script src="/assets/js/main.js"></script>
</body>
</html>